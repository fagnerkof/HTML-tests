<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Stacked Logistics Card</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel (JSX support in browser) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    .card-animate {
      animation: swap 0.35s ease;
    }

    @keyframes swap {
      0% {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
      50% {
        transform: translateY(12px) scale(0.98);
        opacity: 0.9;
      }
      100% {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
    }
  </style>
</head>

<body class="bg-gray-100 min-h-screen flex items-center justify-center">

  <div id="root"></div>

  <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    const cardsData = [
      {
        status: "In Progress",
        statusColor: "bg-orange-500 text-white",
        id: "#YQZNFA",
        value: "$200–250",
        percent: "+14%",
        delta: "+$25.26",
        from: "1248 N Highland Ave, Los Angeles, CA 90038",
        to: "2530 W 8th St, Los Angeles, CA 90057",
        date: "Oct 2, 2025",
        time: "00:43:52",
      },
      {
        status: "Pending",
        statusColor: "bg-orange-100 text-orange-600",
        id: "#KL29XZ",
        value: "$480–520",
        from: "Chicago, IL",
        to: "Denver, CO",
        date: "Oct 4, 2025",
        time: "01:12:09",
      },
      {
        status: "Delivered",
        statusColor: "bg-green-100 text-green-600",
        id: "#AZ81PQ",
        value: "$1,120",
        from: "New York, NY",
        to: "Boston, MA",
        date: "Sep 29, 2025",
        time: "Completed",
      },
    ];

    function LogisticsCardStack() {
      const [index, setIndex] = useState(0);
      const [animating, setAnimating] = useState(false);
      const lockRef = useRef(false);

      useEffect(() => {
        lucide.createIcons();
      });

      const rotate = () => {
        if (lockRef.current) return;
        lockRef.current = true;
        setAnimating(true);

        setIndex((prev) => (prev + 1) % cardsData.length);

        setTimeout(() => {
          setAnimating(false);
          lockRef.current = false;
        }, 350);
      };

      const active = cardsData[index];

      return (
        <div
          onWheel={rotate}
          onTouchEnd={rotate}
          className="relative w-[420px] h-[280px]"
        >
          {/* Back card #2 */}
          <div className="absolute inset-0 pointer-events-none">
            <div
              className="w-full h-full rounded-2xl
                         bg-gray-200
                         shadow-md
                         opacity-60
                         transform scale-[0.94] -translate-y-10"
            />
          </div>

          {/* Back card #1 */}
          <div className="absolute inset-0 pointer-events-none">
            <div
              className="w-full h-full rounded-2xl
                         bg-gray-100
                         shadow-lg
                         opacity-80
                         transform scale-[0.97] -translate-y-5"
            />
          </div>

          {/* Active card */}
          <div
            className={`relative bg-white rounded-2xl shadow-xl p-6
                        ${animating ? "card-animate" : ""}`}
          >

            {/* Header */}
            <div className="flex justify-between items-center mb-6">
              <span className={`flex items-center gap-2 px-4 py-1.5 rounded-full text-sm ${active.statusColor}`}>
                <span className="w-2 h-2 bg-white rounded-full"></span>
                {active.status}
              </span>
              <span className="text-gray-400 text-sm">{active.id}</span>
            </div>

            {/* Financial */}
            <div className="flex items-end gap-4 mb-6">
              <span className="text-5xl font-light text-gray-900">
                {active.value}
              </span>

              {active.percent && (
                <span className="text-green-600 text-lg flex items-center gap-1">
                  ▲ {active.percent}
                </span>
              )}

              {active.delta && (
                <span className="text-gray-400 text-lg">
                  {active.delta}
                </span>
              )}
            </div>

            {/* Route */}
            <div className="flex gap-4 mb-6">
              <div className="flex flex-col items-center">
                <span className="w-4 h-4 bg-orange-500 rounded-full"></span>
                <span className="w-px flex-1 bg-orange-300"></span>
                <span className="w-4 h-4 border-2 border-orange-400 bg-white rounded-full"></span>
              </div>

              <div className="space-y-3 text-sm">
                <p className="text-gray-800">{active.from}</p>
                <p className="text-gray-400">{active.to}</p>
              </div>
            </div>

            {/* Footer */}
            <div className="flex justify-between items-center">
              <span className="text-gray-400 text-sm">{active.date}</span>

              <span className="flex items-center gap-2 border border-gray-200 px-4 py-1.5 rounded-full text-sm text-gray-600">
                <i data-lucide="clock" className="w-4 h-4"></i>
                {active.time}
              </span>
            </div>

          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(
      <LogisticsCardStack />
    );
  </script>

</body>
</html>
